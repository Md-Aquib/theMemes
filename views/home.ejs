<%- include('./partials/header') -%>

<div class="container">
    <% if(memeData.length === 0){ %>
        <div class="reload">
            <div class="spinner-grow" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="spinner-grow spin-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="spinner-grow" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <h1>Reload the Page</h1>
        </div>
    <% } else { %>
    <div class="row justify-content-center" style="text-align: center;">
        <div class="col-lg-6 col-md-6 col-12 body-left">
            <% if (word) { %>
                <div class="card" id="top-card">
                    <div class="card-body">
                      <p>Search Result For <%= word %> </p>
                    </div>
                </div>
                <% memeData.forEach( meme => { %>
                    <% if (_.lowerCase(meme.name).includes(word)) { %>
                        <div class="card">
                            <img class="card-img-top" src="<%= meme.url %>" alt="image">
                            <hr>
                            <div class="card-body">
                              <h5 class="card-title"><%= meme.name %></h5>
                              <div style="display: flex; justify-content: space-between;">
                                <p>‚ù§ <%= meme.width/10 %>k  </p>
                                <p>üòÇ <%= meme.height/10 %>k</p>
                              </div>
                            </div>
                        </div>
                    <% } %>               
                <% }); %>
            <% } else { %>
                <div class="card" id="top-card">
                    <div class="card-body">
                      <p>Our Top Picks üöÄ</p>
                    </div>
                </div>
                <% memeData.forEach( meme => { %>
                    <div class="card">
                        <img class="card-img-top" src="<%= meme.url %>" alt="image">
                        <hr>
                        <div class="card-body">
                          <h5 class="card-title"><%= meme.name %></h5>
                          <div style="display: flex; justify-content: space-between;">
                            <p>‚ù§ <%= meme.width/10 %>k  </p>
                            <p>üòÇ <%= meme.height/10 %>k</p>
                          </div>
                        </div>
                    </div>        
                <% }); %>
            <% } %>        
        </div>
        <div class="col-lg-6 col-md-6 col-12 body-right">
            <div class="card trend-card">
                <div class="card-body">
                  <h5 class="card-title">Trending Memes</h5>
                  <hr>
                  <% for(let i=0; i<=5; i++){ %>
                    <div style="display: flex; justify-content: space-between;">
                        <p class="card-text"><%= i+1 %>  &nbsp; &nbsp; <%= memeData[i].name %></p>
                        <p>‚ù§ <%= memeData[i].width/10 %>k &nbsp; üòÇ <%= memeData[i].height/10 %>k</p>
                    </div>
                  <% }; %>  
                </div>
            </div>
            <hr>
            <div class="card sticky-top" id="top-10-card">
                <div class="card-body trend-card">
                  <h5 class="card-title">Top Contributers</h5>
                  <hr>
                  <p class="card-text">Here are our top 10 contributers</p>
                  <p>1. &nbsp; shaquille.oatmeal</p>
                  <p>2. &nbsp; hanging_with_my_gnomies</p>
                  <p>3. &nbsp; hoosier-daddy</p>
                  <p>4. &nbsp; fast_and_the_curious</p>
                  <p>5. &nbsp; averagestudent</p>
                  <p>6. &nbsp; BadKarma</p>
                  <p>7. &nbsp; google_was_my_idea</p> 
                  <p>8. &nbsp; cute.as.ducks</p>
                  <p>9. &nbsp; casanova</p> 
                  <p>10. &nbsp;  real_name_hidden</p>  
                </div>
            </div>
        </div>
    </div>
    <% } %>   
</div>


<%- include('./partials/footer') -%>